substitutions:
  name: "dryer"
  friendly_name: "Dryer"

esphome:
  name: ${name}
  friendly_name: ${friendly_name}

dashboard_import:
  package_import_url: github://cyberglitchlabs/esphome/packages/s31_base.yaml
  import_full_config: false

# WiFi Configuration
wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  min_auth_mode: WPA2
  
  # Enable fallback hotspot in case wifi connection fails
  ap:
    ssid: "${friendly_name} Fallback"
    password: ""

# Enable Home Assistant API
api:
  encryption:
    key: !secret api_encryption_key

# Enable Over-The-Air updates
ota:
  - platform: esphome
    password: !secret ota_password

# Optional: Web server for direct device access
web_server:
  port: 80

# Time sync
time:
  - platform: homeassistant
    id: esptime

# Include Sonoff S31 hardware package from GitHub
packages:
  device:
    url: https://github.com/cyberglitchlabs/esphome
    files: [packages/s31_base.yaml]
    ref: main
    refresh: 1d
